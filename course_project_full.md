# Курсов проект: Каталог на видеоигри за развлечение – пълна документация (Markdown)

## Съдържание
1. Въведение  
2. Анализ на решението  
   - 2.1 Работен процес  
   - 2.2 Структура на съдържанието  
   - 2.3 Тип и представяне на съдържанието  
3. Дизайн  
4. Използване на изкуствен интелект  
5. Тестване  
6. Заключение и възможно бъдещо развитие  
7. Разпределение на работата  
8. Използвани литературни източници и уеб сайтове  
9. Апендикс  

---

## 1. Въведение
Настоящият документ представя разработката на курсов проект по „XML технологии за семантичен Уеб“, чиято цел е създаване на каталог на видеоигри за развлечение. Проектът показва как чрез XML и свързаните с него технологии (XML Schema, XSLT, CSS и JavaScript) може да се моделира, валидира и визуализира богато текстово и графично съдържание за популярни игри – жанрове, компании (разработчици и издатели), платформи, дати на излизане и изображения. Основният проблем, който решаваме, е структурираното и консистентно представяне на многоизмерни данни за видеоигри, така че те да могат да се валидират автоматично и да се визуализират интерактивно без сървърна логика.

В контекста на предмета това демонстрира пълния технологичен цикъл: дефиниране на схема с ключове и референции, използване на непарснати XML ентитети за изображения, трансформация на съдържанието с XSLT директно в браузър и добавяне на динамика с JavaScript за търсене, филтриране и сортиране. Решението използва единичен XML документ с три основни колекции (жанрове, компании, игри), който се валидира срещу XML Schema с ключове и keyref зависимости (ID/IDREF и композитен ключ за компаниите). Изображенията са свързани чрез непарснати ентитети, за да се осигури ясна връзка между данните и графичните ресурси. Визуализацията е изцяло клиентска: XSLT оформя HTML таблица, CSS придава стил, а JavaScript реализира интерактивните функции.

Останалата част от документа е структурирана така: раздел 2 описва работния процес (вход, обработка, изход) и структурата на съдържанието; раздел 3 разглежда дизайна и архитектурата на решението; раздел 4 описва използването на изкуствен интелект в процеса; раздел 5 представя тестването и резултатите; раздел 6 обобщава заключенията и очертава възможности за бъдещо развитие; раздели 7–9 съдържат разпределението на работата, източниците и апендикси.

---

## 2. Анализ на решението

### 2.1 Работен процес
Работният процес на „Каталог на видеоигри за развлечение“ обхваща целия цикъл от подготовката на данните, през валидацията и трансформацията, до интерактивната визуализация в браузър. Входното съдържание е един основен XML документ (`catalog.xml`), организиран в три колекции: жанрове (`genres`), компании (`companies`) и игри (`games`). Всеки жанр има уникален идентификатор и име; всяка компания има име, държава и роля (разработчик или издател); всяка игра реферира към жанр, към една или повече компании по роля, съдържа заглавие, платформи, резюме, дата на излизане и препратка към изображение чрез XML ентитет. Ентитетите към изображенията (PNG файлове в `images/`) са дефинирани в DOCTYPE като непарснати, за да се поддържа ясно разграничение между данните и медийните ресурси.

Обработката започва с валидиране срещу XML Schema (`catalog.xsd`). Схемата дефинира типове за идентификатори, ключове и референции, както и изброени стойности за атрибута `image`, така че всяка връзка и всяка медийна препратка да са консистентни. Ключовете `genreKey` и `companyKey` (композитен ключ по `name + role`) и съответните keyref зависимости гарантират, че всяка игра сочи валиден жанр и валидни компании за разработка/издаване. Валидирането е критично за навременно улавяне на грешки: липсващи жанрове, неправилни роли или несъответстващи ентитети за изображения.

След валидирането следва трансформацията. В браузъра се зарежда `catalog.xml`, който сочи към `catalog.xsl` като XSLT стил. Трансформацията генерира HTML таблица с колони за заглавие, дата на излизане, жанр, платформи, разработчик, издател, описание и изображение. По време на трансформацията XSLT използва `unparsed-entity-uri(@image)`, за да превърне XML ентитета в валиден `src` атрибут на `<img>`. Така визуализацията остава синхронизирана с дефинираните в DOCTYPE медийни ресурси. Фронтенд логиката за интерактивност е изцяло вградена в резултата от XSLT: JavaScript функции реализират търсене по заглавие, филтър по жанр и сортиране по колони (стрингово и по дати). CSS (`style.css`) придава четим и консистентен стил: хедър на таблицата, редуващи се редове, ефект при задържане, ограничена ширина на изображенията и удобни контроли.

Изходът е една HTML страница, която може да се отвори директно (или чрез прост локален сървър) и не изисква бекенд. Всички зависимости са файлови: XML, XSD, XSLT, CSS и PNG изображения. Работният процес е напълно преносим и повторим – при добавяне на нова игра се обновяват XML-ът и, ако има ново изображение, DOCTYPE/XSD е enum; валидирането и трансформацията се изпълняват отново без промени в кода.

### 2.2 Структура на съдържанието
Структурата на съдържанието е централизирана в `catalog.xml` и е формално описана в `catalog.xsd`. Моделът е ориентиран към ясна типизация, референтна цялост и проследимост на медийните ресурси.

- **Жанрове** (`genres/genre`): атрибути `id` (xs:ID) и `name` (xs:string). Жанровете формират плоска таксономия от седем записа (Action-adventure, Action RPG, First-person action, Sandbox/Survival, Puzzle, Platformer, Role-playing). Ключът `genreKey` гарантира уникалност на `@id`, а `gameGenreRef` в игрите е IDREF към този ключ.
- **Компании** (`companies/company`): атрибути `name` (string), `country` (string), `role` (string). Композитен ключ `companyKey` обединява `name + role`, защото една и съща компания може да е и разработчик, и издател. Keyref `companyRefKey` в игрите гарантира, че всяка референция към компания съществува и ролята е правилно зададена.
- **Игри** (`games/game`): атрибути `id` (ID), `genreId` (IDREF към жанр), `image` (ENTITY, ограничен чрез `ImageEntityType`), `releaseDate` (xs:date). Поделементи: `title` (заглавие), `platforms` (списък платформи като текст), `summary` (резюме), `companies/companyRef` (име + роля). Структурата позволява много към много между игра и компании – множество разработчици и издатели. Жанрът е единичен за игра и се валидира чрез IDREF. Медийни ресурси: в DOCTYPE са дефинирани осем непарснати ентитета (`totk`, `eldenring`, `doometernal`, `minecraft`, `tetris`, `witcher3`, `mario`, `bg3`), всеки сочи към PNG файл в `images/`. XSD типът `ImageEntityType` е enumeration върху същите стойности, за да се осигури съответствие между схема и DOCTYPE. Когато се добавя ново изображение, трябва да се актуализират едновременно DOCTYPE и XSD enum.

**Взаимовръзки и ограничения**: Жанр ↔ игра: ID/IDREF (`genreId`). Ако жанр липсва, валидаторът ще отхвърли играта. Компания ↔ игра: композитен ключ/референция (`name + role`). Това елиминира амбигуитет, когато една компания присъства с различни роли. Изображение ↔ игра: ENTITY + enum. Невалиден ентитет или липсващ файл ще бъде уловен при валидация или визуализация. Дата: xs:date гарантира ISO формат (YYYY-MM-DD) и позволява коректно сортиране по дати в JavaScript.

**Разширяемост**: Моделът позволява добавяне на нови игри, жанрове и компании без промяна в XSLT/CSS/JS, стига да се спазват ключовете и типовете. Ако се добави нова медия, XSD enum трябва да се обнови. При нужда от поджанрове може да се добави йерархична структура в жанровете (например parentId) и съответно нови key/keyref зависимости. За платформи може да се въведе отделна колекция с enum, ако е необходима по-строга типизация. Представяне на навигация и изглед: в XSLT се използват `data-genre` и lookup към жанровете за визуализация на жанровото име; компаниите се изписват по роли, с разделител запетая, чрез обхождане на `companyRef`. Резюметата са текстови и не съдържат вложени елементи, което улеснява семпла презентация.

### 2.3 Тип и представяне на съдържанието
Съдържанието комбинира текстови и графични ресурси, описани в XML и визуализирани чрез XSLT/HTML.

- **Текстово съдържание**: заглавия на игри, жанрови наименования, списъци с платформи, имена на компании, резюмета, дати. Всичко е в UTF-8 и следва ISO формат за дати (YYYY-MM-DD). Резюметата са свободен текст, без HTML тагове, за да се избегне инжектиране.
- **Графично съдържание**: осем PNG файла (`totk.png`, `eldenring.png`, `doometernal.png`, `minecraft.png`, `tetris.png`, `witcher3.png`, `marioodyssey.png`, `baldursgate3.png`), всеки ~1.5–3.2 MB. Достъпът им е чрез непарснати ENTITY декларации в DOCTYPE; XSLT използва `unparsed-entity-uri()` за да ги вмъкне като `<img src>`.
- **Кодиране и валидиране**: всички файлове (`catalog.xml`, `catalog.xsd`, `catalog.xsl`, `style.css`, `test_output.html`, `course_project_report.md`) са UTF-8. Валидацията на XML гарантира типове и референции; несъответствията в ENTITY имената се хващат чрез XSD enum и DOCTYPE.
- **Представяне**: визуализацията е HTML таблица с контроли за филтър и търсене. CSS оформя четлив изглед (светъл фон, син хедър, подсветка на редове). JavaScript реализира динамичните функции, без да променя или записва данни. Няма външни зависимости или шрифтове.

**Брой и вид ресурси**: текстови единици: 8 игри × (заглавие, платформи, резюме, дати, жанр, компании). Графични ресурси: 8 PNG изображения. Схеми/стилове: 1 XML Schema, 1 XSLT, 1 CSS, 1 тестов HTML (`test_output.html`) като статичен резултат. Източници: данните за игри са събрани от официални сайтове и енциклопедии; изображенията са стилизирани/генерирани така, че да не нарушават авторски права. Форматът PNG е избран за баланс между качество и поддръжка в браузър. Този набор осигурява изцяло клиентска визуализация, ясна типизация и контрол върху референциите към медии, без нужда от външни услуги или бекенд.

---

## 3. Дизайн
Дизайнът на решението „Каталог на видеоигри за развлечение“ е изграден върху изцяло клиентска архитектура, която използва XML като източник на истина, XML Schema за формални ограничения, DOCTYPE с непарснати XML ентитети за изображения, XSLT за трансформация към HTML, CSS за оформление и JavaScript за интерактивност. Всички артефакти са файлово-базирани и не изискват бекенд или база данни; визуализацията и логиката се изпълняват в браузъра.

### Архитектура и основни компоненти
- **Данни**: `catalog.xml` съдържа три колекции – `genres` (жанрове), `companies` (компании с роли разработчик/издател), `games` (игри, които реферират жанр и компании). В DOCTYPE са дефинирани непарснати ентитети към PNG файловете в `images/`.
- **Схема**: `catalog.xsd` описва типове, ключове и референции. Ключ `genreKey` и keyref `gameGenreRef` гарантират валидна връзка жанр–игра. Композитният ключ `companyKey` (име+роля) и keyref `companyRefKey` гарантират валидни компании за всяка роля. Типът `ImageEntityType` е enumeration за позволените ENTITY стойности, синхронизиран с DOCTYPE.
- **Трансформация**: `catalog.xsl` трансформира XML в HTML таблица. Взема данни за жанр чрез lookup по `@genreId`, изброява компании по роли, инжектира изображения чрез `unparsed-entity-uri(@image)`.
- **Оформление**: `style.css` придава стил на таблицата и контролите – светъл фон, син хедър, редуващи се редове, hover ефект, ограничена ширина на изображенията.
- **Интерактивност**: В XSLT резултата е вграден JavaScript за търсене по заглавие, филтър по жанр и сортиране на всички колони (текстово и по дата). Състоянието на сортиране се поддържа в прост обект `sortState`.

### Използване на XML entities за съдържание
Графичните ресурси са описани като непарснати ентитети в DOCTYPE, например:

```
<!ENTITY totk        SYSTEM "images/totk.png"         NDATA png>
<!ENTITY eldenring   SYSTEM "images/eldenring.png"    NDATA png>
...
```

Така XML остава самодостатъчен – логическите имена (`totk`, `eldenring`, …) са свързани с файловите пътища. В XSLT за всяка игра се използва `unparsed-entity-uri(@image)`, за да се генерира `src` на `<img>`. Това осигурява:
- централизация на медийните препратки (без твърдо кодиране в XSLT);
- валидация срещу XSD enum (`ImageEntityType`), така че грешно име на ентитет или несъответствие се хваща рано;
- лесно добавяне на нов образец: добавяне в DOCTYPE + дописване в XSD enum + въвеждане на нова игра с `@image`.

### Описание на връзките и ключовете
- Жанрове ↔ игри: `@genreId` е IDREF към `genres/genre/@id`. Ключът `genreKey` гарантира уникалност, keyref `gameGenreRef` гарантира съществуване.
- Компании ↔ игри: `companies/company` имат композитен ключ `name + role`. В `games/game/companies/companyRef` keyref `companyRefKey` гарантира, че всяка референция съвпада по име и роля. Това елиминира амбигуитет при компании, които са и разработчици, и издатели.
- Изображения ↔ игри: `@image` е ENTITY, разрешен чрез `ImageEntityType`. DOCTYPE дава реалния път към PNG; XSLT го резолвира. Ако ентитетът липсва или е извън enum, валидацията или визуализацията ще сигнализират.

### Валидация
Валидацията се изпълнява срещу `catalog.xsd`, като проверява: коректни ID/IDREF (жанрове, игри); коректни ключове/референции (компании с роли); допустими стойности на `@image` (enumeration); формат на датите (xs:date – ISO). Примерна команда:

```
xmllint --noout --schema catalog.xsd catalog.xml
```

Това позволява ранно откриване на липсващи жанрове, неправилни роли, грешни ентитети или невалидни дати.

### Трансформация и краен резултат
XSLT шаблонът (`catalog.xsl`) създава HTML страница: генерира `<table>` с колони: Title, Release Date, Genre, Platforms, Developer, Publisher, Description, Image; добавя `data-genre` атрибут за всеки ред, за да може JavaScript филтърът да скрива/показва по жанр; използва променлива `gid` и lookup към жанровете за визуализиране на името на жанра; списъците с компании се изграждат чрез `for-each` по `companyRef` със разделител „, “, разделено по роля; изображенията се вкарват с `<img>` и `src` от `unparsed-entity-uri()`.

JavaScript (вграден в `<script>`): `filterTable()` за филтър по жанр и търсене по заглавие (case-insensitive) и `sortTable(col, type)` за сортиране. `sortState` поддържа състоянието на сортиране. CSS (`style.css`) оформя фон, текст, таблични стилове и размери на изображенията.

Крайният резултат е една страница, която се отваря директно (или през прост локален HTTP сървър). `test_output.html` е статичен примерен резултат от XSLT, полезен за бърз преглед или при липса на XSLT поддръжка.

### Роля на компонентите и потока
1) Потребителят отваря `catalog.xml` в браузър; XSLT се прилага автоматично.  
2) Браузърът зарежда `catalog.xsl`, `style.css` и PNG ресурсите през `unparsed-entity-uri()`.  
3) Генерира се HTML таблица; контролите (select + input) се активират.  
4) JavaScript осигурява филтър/търсене/сортиране без презареждане.  
5) Всички промени (добавяне на игра/жанр/компания) се правят в XML (+ DOCTYPE/XSD enum при ново изображение), след което визуализацията се обновява автоматично.

### Разширяемост и алтернативи
- **Разширения**: добавяне на поджанрове (йерархия в `genres`), рейтинги/ревюта, филтри по платформи и дати, локализация на UI, генериране на PDF чрез XSL-FO, по-строга типизация на платформи чрез отделен enum/колекция, PEGI/ESRB полета.
- **Алтернативи**: използване на JSON/HTML без XSLT (по-малко демонстрация на XML трансформации), бекенд и база данни (по-тежка инфраструктура), външни шрифтове/фреймуърци (добавят зависимости).

### Обобщение
Дизайнът демонстрира цялостна XML-първа архитектура: дефиниране и валидиране на структурата, използване на непарснати ентитети за графика, трансформация с XSLT и клиентска интерактивност с JavaScript, оформена с CSS. Връзките между жанрове, компании и игри са строго типизирани чрез key/keyref и ID/IDREF, а изображенията са управлявани през ENTITY декларации, което осигурява консистентност на данните и лесна поддръжка.

---

## 4. Използване на изкуствен интелект
В проекта изкуственият интелект бе използван като помощник за планиране, генериране на чернови и проверка на формулировки, но всички ключови решения и валидиране са ръчни. Модел от тип LLM (GPT-семейство) беше подканван с конкретни ограничения: кои жанрове да включим, как да структурираме XML/XSD/XSLT, как да форматираме резюмета на игрите и как да избегнем съдържание, нарушаващо права. Контекстът в промптовете изискваше ясни роли (developer/publisher), ISO дати, UTF-8 текст и непарснати ENTITY имена за изображения.

Генерираното от ИИ включваше: идеи за структура на данните, чернови на резюмета за игри, предложения за оформление в README и документацията, както и стилизирани образи (без копиране на оригинални корици). Всеки текст бе проверен за фактологичност и редактиран при неточности; изображенията бяха оценени за уникалност и съвместимост с темата. Кодът (XML/XSD/XSLT/CSS/JS) бе ръчно ревизиран за синтактична коректност и съвместимост.

Алтернативни варианти (разглеждани и отхвърлени): по-детайлна типология с поджанрове (усложнява XSD без учебна полза), бекенд и база данни (по-тежка инфраструктура, не е цел на предмета), автоматично генериране на данни от външни API (добавя зависимости и рискове за точност). SWOT накратко: Strengths – бързо съдържание и консистентна структура; Weaknesses – нужда от ръчна проверка; Opportunities – разширяване с рейтинги, интеграции, локализация; Threats – остаряване на данни и варираща поддръжка на XSLT по браузъри. В крайна сметка ИИ ускори подготовката, но финалните решения и проверки са човешки.

---

## 5. Тестване
Тестването обхваща валидация на XML, визуална проверка и функционални проверки на интерактивните възможности.

### Валидация на XML
Целева команда:

```
xmllint --noout --schema catalog.xsd catalog.xml
```

Целта е да се потвърдят ID/IDREF връзки, ключове и keyref зависимости, enumeration за `@image` и формат на датите. Липсващ жанр, грешна роля или невалиден ентитет се улавят веднага.

### Браузърни тестове
Отваряне на `catalog.xml` (с активен XSLT) и на статичния `test_output.html` (референтен резултат) в Chrome, Firefox и Edge. Проверява се дали всички осем игри се визуализират, изображенията се зареждат, а оформлението от `style.css` е приложено коректно.

### Функционални проверки
- Филтър по жанр: изборът от падащия списък скрива/показва редове според `data-genre`.
- Търсене по заглавие: case-insensitive, комбинира се с жанровия филтър.
- Сортиране: всички колони се сортират с toggle asc/desc; датите се парсират като ISO със `new Date(ISO)`, останалото е лексикално сравнение (`toLowerCase()`).
- Изображения: `unparsed-entity-uri()` генерира правилни `src`, без счупени линкове.

Артефакти: `test_output.html` служи като снимка на очаквания изглед; при нужда могат да се приложат екранни снимки за филтър/търсене/сортиране. Не са наблюдавани JS грешки в конзолата по време на тестовете. Ако се добавят нови игри или изображения, се препоръчва: (а) обновяване на DOCTYPE и XSD enum, (б) повторно валидиране, (в) преглед в браузър за визуално потвърждение.

---

## 6. Заключение и възможно бъдещо развитие
Проектът демонстрира пълния XML-първи цикъл: моделиране на данни, схема и ключове, непарснати ентитети за изображения, трансформация с XSLT и клиентска интерактивност с JavaScript и CSS. Предимствата са прозрачната структура, силната референтна цялост (key/keyref, ID/IDREF), самодостатъчност без бекенд и лесна преносимост (само файлове и браузър). Ограниченията включват ръчно обновяване на данните, зависимост от браузърна XSLT поддръжка и липса на динамични външни източници.

В практиката подобен подход е подходящ за малки и средни каталози, офлайн справочници или демонстрации на XML технологии. За по-мащабни решения може да се обмисли бекенд, база данни или API интеграции. Възможни посоки за развитие: добавяне на рейтинги/ревюта, филтри по платформи и диапазон дати, локализация на интерфейса, генериране на PDF чрез XSL-FO, по-строга типизация (напр. enum за платформи, PEGI/ESRB полета), йерархия на поджанрове или синхронизация с външни каталози чрез API. Тези стъпки биха надградили интерактивността и полезността на каталога, като запазят основните XML принципи.

---

## 7. Разпределение на работата
Работата бе разделена по роли, за да се покрият събирането на данни, моделирането, трансформацията и визуализацията:
- Събиране и проверка на информация за игрите (жанрове, платформи, дати, компании): Автор A и Автор B.
- Дизайн на XML/XSD структурата (ключове, keyref, enum за изображения): Автор A.
- Имплементация на XSLT, CSS и JavaScript (таблица, филтър, търсене, сортиране): Автор B.
- Генериране/подготовка на изображения и ентитети в DOCTYPE: Автор A и Автор B.
- Документация (README, курсова документация) и преглед на кода: Автор A и Автор B.

---

## 8. Използвани литературни източници и уеб сайтове
1. Официални сайтове на игрите (Nintendo, FromSoftware, Bethesda, Mojang, Larian и др.)  
2. Енциклопедични източници за дати и платформи (например Wikipedia статии за съответните заглавия)  
3. W3C спецификации: XML, XML Schema, XSLT  
4. Документация на `xmllint` / libxml2  
5. Курсови материали и указания по „XML технологии за семантичен Уеб“  

*(Заменете/добавете конкретни книги, статии или линкове според изискванията.)*

---

## 9. Апендикс
- **Файлова структура (резюме)**: `catalog.xml`, `catalog.xsd`, `catalog.xsl`, `style.css`, `test_output.html`, `README.md`, `course_project_report.md`, директория `images/` (осем PNG).  
- **Команда за валидация**: `xmllint --noout --schema catalog.xsd catalog.xml` (изпълнима локално).  
- **Пример за трансформация извън браузър**: `xsltproc catalog.xsl catalog.xml > output.html`.  
- **Допълнителни материали**: екранни снимки на работещия каталог; инструкции за локално отваряне (двойно щракване върху `catalog.xml` или `python -m http.server 8000` и отваряне `http://localhost:8000/catalog.xml`). Добавете други апендикси при нужда (напр. разширени диаграми, версии на данните, алтернативни XSD/XSLT варианти).
